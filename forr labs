// Минимальный рабочий код
Процедура ПриИзменении(Источник)
    
    // Просто считаем 5% от суммы продаж
    Если Сотрудник <> Неопределено Тогда
        Если СуммаПродаж > 0 Тогда
            Бонус = СуммаПродаж * 0.05;
        Иначе
            Бонус = 0;
        КонецЕсли;
    Иначе
        Бонус = 0;
    КонецЕсли;
    
КонецПроцедуры

Процедура ОбработкаПроведения(Отказ, Режим)
    Если Сотрудник = Неопределено Тогда
        Отказ = Истина;
        Возврат;
    КонецЕсли;
    Если СуммаПродаж <= 0 Тогда
        Отказ = Истина;
        Возврат;
    КонецЕсли;
КонецПроцедуры