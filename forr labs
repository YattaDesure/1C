// Модуль объекта документа Продажи
// Минимальный рабочий код

// Эта процедура вызывается сама при изменении полей
Процедура ПриИзменении(Источник)
    
    // Простой расчет: 5% от суммы продаж (без учета скидок и возвратов)
    Если Сотрудник <> Неопределено И СуммаПродаж > 0 Тогда
        Бонус = СуммаПродаж * 0.05;
    Иначе
        Бонус = 0;
    КонецЕсли;
    
КонецПроцедуры

// Процедура проведения
Процедура ОбработкаПроведения(Отказ, Режим)
    
    // Простые проверки
    Если Сотрудник = Неопределено Тогда
        Отказ = Истина;
        Возврат;
    КонецЕсли;
    
    Если СуммаПродаж <= 0 Тогда
        Отказ = Истина;
        Возврат;
    КонецЕсли;
    
    Сообщить("Документ проведен. Бонус: " + Бонус);
    
КонецПроцедуры